<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zzy.malladmin.dao.UmsRoleDao">
    <select id="getMenuList" resultType="com.zzy.malladmin.mbg.model.UmsMenu">
        select
            m.id,m.parent_id ,m.create_time,m.title,
            m.level,m.sort,m.name,m.icon,m.hidden
        from
            ums_admin a
        left join ums_admin_role_relation arr on a.id = arr.admin_Id
        left join ums_role_menu_relation  rmr on arr.role_id = rmr.role_id
        left join ums_menu                m   on m.id = rmr.menu_id
        where a.id = #{adminId}
        group by m.id
    </select>
</mapper>